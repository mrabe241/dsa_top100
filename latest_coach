import os
import random
from faker import Faker

# Initialize faker
fake = Faker()

# Skills pool
skills_pool = [
    "Python", "Java", "C++", "JavaScript", "SQL", "React", "Angular",
    "Node.js", "AWS", "Azure", "Docker", "Kubernetes", "Machine Learning",
    "Data Analysis", "Django", "Flask", "NoSQL", "HTML", "CSS", "Git", "Tableau"
]

# Roles
roles = [
    "Software Engineer", "Data Scientist", "Frontend Developer",
    "Backend Developer", "DevOps Engineer", "Machine Learning Engineer",
    "Cloud Architect", "Business Analyst", "Full Stack Developer"
]

# Degrees
degrees = [
    "B.Sc. Computer Science", "M.Sc. Data Science", "B.Tech Information Technology",
    "M.Tech Artificial Intelligence", "MBA Information Systems", "B.Sc. Software Engineering"
]

# Folder to store resumes
output_folder = "resumes"
os.makedirs(output_folder, exist_ok=True)

for i in range(1, 101):
    name = fake.name()
    email = fake.email()
    phone = fake.phone_number()

    # Random skills
    skills = random.sample(skills_pool, k=random.randint(5, 10))

    # Random experience
    exp_entries = []
    for _ in range(random.randint(2, 4)):
        company = fake.company()
        role = random.choice(roles)
        start_year = random.randint(2012, 2020)
        end_year = start_year + random.randint(1, 5)
        desc = fake.sentence(nb_words=12)
        exp_entries.append(f"{role} at {company} ({start_year}-{end_year}) — {desc}")

    # Random projects
    project_entries = []
    for _ in range(random.randint(1, 3)):
        project_title = fake.catch_phrase()
        project_desc = fake.text(max_nb_chars=120)
        project_skills = random.sample(skills, k=random.randint(2, 4))
        project_entries.append(f"{project_title}: {project_desc} (Used: {', '.join(project_skills)})")

    # Education
    degree = random.choice(degrees)
    university = fake.company() + " University"
    grad_year = random.randint(2008, 2022)

    resume_text = f"""
Name: {name}
Email: {email}
Phone: {phone}

Skills:
- {", ".join(skills)}

Experience:
- {'\n- '.join(exp_entries)}

Projects:
- {'\n- '.join(project_entries)}

Education:
- {degree}, {university}, {grad_year}
"""

    file_path = os.path.join(output_folder, f"resume_{i}.txt")
    with open(file_path, "w", encoding="utf-8") as f:
        f.write(resume_text.strip())

print("✅ 100 fake resumes generated in 'resumes/' folder with experience & projects.")
